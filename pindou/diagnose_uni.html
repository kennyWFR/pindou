<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Uni-app æ·±åº¦è¯Šæ–­</title>
  <script src="https://unpkg.com/vue@3.4.21/dist/vue.global.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background: #f8f9fa;
      line-height: 1.6;
    }
    .diagnose-container {
      max-width: 1000px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .test-section {
      margin-bottom: 25px;
      padding: 15px;
      border-left: 4px solid #007bff;
      background: #f8f9fa;
      border-radius: 4px;
    }
    .success { border-left-color: #28a745; background: #d4edda; }
    .error { border-left-color: #dc3545; background: #f8d7da; }
    .warning { border-left-color: #ffc107; background: #fff3cd; }
    .info { border-left-color: #17a2b8; background: #d1ecf1; }
    .test-title {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
      color: #333;
    }
    .test-result {
      font-family: monospace;
      background: #f8f9fa;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #dee2e6;
      white-space: pre-wrap;
      max-height: 150px;
      overflow-y: auto;
      margin: 10px 0;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px;
      font-size: 14px;
    }
    button:hover { background: #0056b3; }
    button.success { background: #28a745; }
    button.error { background: #dc3545; }
    button.warning { background: #ffc107; color: #212529; }
    .progress-bar {
      width: 100%;
      height: 20px;
      background: #e9ecef;
      border-radius: 10px;
      overflow: hidden;
      margin: 10px 0;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #28a745, #20c997);
      width: 0%;
      transition: width 0.3s ease;
    }
    .summary {
      position: fixed;
      top: 20px;
      right: 20px;
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      min-width: 250px;
      font-size: 14px;
    }
    .summary-item {
      margin: 8px 0;
      padding: 5px;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div id="diagnose-app">
    <!-- è¯Šæ–­æ‘˜è¦ -->
    <div class="summary">
      <h3>ğŸ” è¯Šæ–­è¿›åº¦</h3>
      <div class="summary-item success">Vue.js: {{ vueStatus }}</div>
      <div class="summary-item" :class="uniStatus.class">{{ uniStatus.text }}</div>
      <div class="summary-item" :class="scriptStatus.class">{{ scriptStatus.text }}</div>
      <div class="summary-item" :class="apiStatus.class">{{ apiStatus.text }}</div>
      <div class="progress-bar">
        <div class="progress-fill" :style="{ width: progress + '%' }"></div>
      </div>
      <div style="text-align: center; margin-top: 10px; font-weight: bold;">
        {{ Math.round(progress) }}% å®Œæˆ
      </div>
    </div>

    <div class="diagnose-container">
      <h1>ğŸ”¬ Uni-app æ·±åº¦è¯Šæ–­å·¥å…·</h1>

      <!-- 1. Vue.js æ£€æŸ¥ -->
      <div class="test-section success">
        <div class="test-title">1. âœ… Vue.js åŸºç¡€æ£€æŸ¥</div>
        <div class="test-result">
Vue ç‰ˆæœ¬: {{ vueVersion }}
Vue å…¨å±€å¯¹è±¡: {{ typeof Vue }}
window.Vue: {{ typeof window.Vue }}
Vue Composition API: {{ typeof Vue?.createApp ? 'å¯ç”¨' : 'ä¸å¯ç”¨' }}
        </div>
      </div>

      <!-- 2. Uni-app è„šæœ¬åŠ è½½æ£€æŸ¥ -->
      <div class="test-section" :class="scriptStatus.class">
        <div class="test-title">{{ scriptStatus.icon }} Uni-app è„šæœ¬åŠ è½½æ£€æŸ¥</div>
        <div class="test-result">{{ scriptStatus.details }}</div>
        <button @click="testScriptLoading">é‡æ–°æµ‹è¯•è„šæœ¬åŠ è½½</button>
        <button @click="loadUniManually">æ‰‹åŠ¨åŠ è½½ Uni-app</button>
      </div>

      <!-- 3. Uni-app API æ£€æŸ¥ -->
      <div class="test-section" :class="apiStatus.class">
        <div class="test-title">{{ apiStatus.icon }} Uni-app API æ£€æŸ¥</div>
        <div class="test-result">{{ apiStatus.details }}</div>
        <button @click="testUniAPI">æµ‹è¯• Uni-app API</button>
      </div>

      <!-- 4. ç½‘ç»œè¯·æ±‚æµ‹è¯• -->
      <div class="test-section info">
        <div class="test-title">4. ğŸŒ ç½‘ç»œè¯·æ±‚æµ‹è¯•</div>
        <div class="test-result">{{ networkResults }}</div>
        <button @click="testNetworkRequests">æµ‹è¯•ç½‘ç»œè¯·æ±‚</button>
      </div>

      <!-- 5. æ§åˆ¶å°æ—¥å¿— -->
      <div class="test-section">
        <div class="test-title">5. ğŸ“ æ§åˆ¶å°æ—¥å¿—</div>
        <div class="test-result" id="console-output">ç­‰å¾…æ—¥å¿—...</div>
        <button @click="clearConsole">æ¸…ç©ºæ—¥å¿—</button>
        <button @click="exportLogs">å¯¼å‡ºæ—¥å¿—</button>
      </div>

      <!-- 6. è§£å†³æ–¹æ¡ˆ -->
      <div class="test-section warning" v-if="!allTestsPassed">
        <div class="test-title">6. ğŸ’¡ è§£å†³æ–¹æ¡ˆå»ºè®®</div>
        <div class="test-result">{{ solutions }}</div>
        <button class="success" @click="applySolution" v-if="hasSolution">åº”ç”¨è§£å†³æ–¹æ¡ˆ</button>
        <button @click="goToMainApp" v-if="canProceed">ç»§ç»­åˆ°ä¸»åº”ç”¨</button>
      </div>

      <!-- 7. æˆåŠŸçŠ¶æ€ -->
      <div class="test-section success" v-if="allTestsPassed">
        <div class="test-title">7. ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼</div>
        <div class="test-result">
æ­å–œï¼æ‰€æœ‰ç»„ä»¶éƒ½æ­£å¸¸å·¥ä½œã€‚
ç°åœ¨å¯ä»¥äº«å—å®Œæ•´çš„ PixelBead åŠŸèƒ½äº†ï¼

âœ… Vue.js 3.4.21
âœ… Uni-app H5 API
âœ… è„šæœ¬åŠ è½½æ­£å¸¸
âœ… API è°ƒç”¨æ­£å¸¸
        </div>
        <button class="success" @click="goToMainApp">ğŸš€ è¿›å…¥ PixelBead å·¥åŠ</button>
      </div>
    </div>
  </div>

  <script>
    const { createApp, ref, onMounted, computed } = Vue;

    createApp({
      setup() {
        // çŠ¶æ€å˜é‡
        const vueVersion = ref('æ£€æµ‹ä¸­...');
        const scriptStatus = ref({ class: 'warning', icon: 'â³', text: 'è„šæœ¬åŠ è½½ä¸­...', details: 'æ­£åœ¨æ£€æŸ¥è„šæœ¬åŠ è½½çŠ¶æ€...' });
        const apiStatus = ref({ class: 'warning', icon: 'â³', text: 'API æ£€æŸ¥ä¸­...', details: 'æ­£åœ¨æ£€æŸ¥ Uni-app API...' });
        const networkResults = ref('æœªæµ‹è¯•');
        const solutions = ref('æ­£åœ¨åˆ†æé—®é¢˜...');
        const hasSolution = ref(false);
        const canProceed = ref(false);

        // è¿›åº¦è®¡ç®—
        const progress = computed(() => {
          let score = 0;
          if (vueVersion.value !== 'æ£€æµ‹ä¸­...') score += 25;
          if (scriptStatus.value.class !== 'warning') score += 25;
          if (apiStatus.value.class !== 'warning') score += 25;
          if (networkResults.value !== 'æœªæµ‹è¯•') score += 25;
          return score;
        });

        // è®¡ç®—çŠ¶æ€
        const vueStatus = computed(() => vueVersion.value);
        const uniStatus = computed(() => ({
          class: scriptStatus.value.class === 'success' ? 'success' : 'error',
          text: scriptStatus.value.class === 'success' ? 'âœ… å·²åŠ è½½' : 'âŒ æœªåŠ è½½'
        }));

        const allTestsPassed = computed(() =>
          vueVersion.value !== 'æ£€æµ‹ä¸­...' &&
          scriptStatus.value.class === 'success' &&
          apiStatus.value.class === 'success'
        );

        // æ§åˆ¶å°æ—¥å¿—
        let consoleMessages = [];
        const originalLog = console.log;
        const originalError = console.error;
        const originalWarn = console.warn;

        console.log = function(...args) {
          consoleMessages.push(['log', ...args]);
          updateConsole();
          originalLog.apply(console, args);
        };

        console.error = function(...args) {
          consoleMessages.push(['error', ...args]);
          updateConsole();
          originalError.apply(console, args);
        };

        console.warn = function(...args) {
          consoleMessages.push(['warn', ...args]);
          updateConsole();
          originalWarn.apply(console, args);
        };

        function updateConsole() {
          const output = document.getElementById('console-output');
          if (output) {
            output.innerHTML = consoleMessages.slice(-15).map(([type, ...args]) => {
              const color = type === 'error' ? '#dc3545' : type === 'warn' ? '#ffc107' : '#28a745';
              return `<span style="color: ${color}">[${type.toUpperCase()}]</span> ${args.join(' ')}`;
            }).join('\n');
            output.scrollTop = output.scrollHeight;
          }
        }

        function clearConsole() {
          consoleMessages = [];
          updateConsole();
        }

        function exportLogs() {
          const logs = consoleMessages.map(([type, ...args]) => `[${type.toUpperCase()}] ${args.join(' ')}`).join('\n');
          const blob = new Blob([logs], { type: 'text/plain' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'uni-app-diagnostic-logs.txt';
          a.click();
          URL.revokeObjectURL(url);
        }

        // æµ‹è¯•å‡½æ•°
        function testVue() {
          console.log('=== Vue.js æ£€æŸ¥ ===');
          try {
            if (typeof Vue !== 'undefined') {
              vueVersion.value = Vue.version;
              console.log(`âœ… Vue.js ${Vue.version} å·²åŠ è½½`);
            } else {
              vueVersion.value = 'æœªæ‰¾åˆ°';
              console.error('âŒ Vue.js æœªåŠ è½½');
            }
          } catch (e) {
            vueVersion.value = 'é”™è¯¯: ' + e.message;
            console.error('Vue.js æ£€æŸ¥å¤±è´¥:', e);
          }
        }

        async function testScriptLoading() {
          console.log('=== Uni-app è„šæœ¬åŠ è½½æµ‹è¯• ===');
          scriptStatus.value = { class: 'warning', icon: 'â³', text: 'æµ‹è¯•ä¸­...', details: 'æ­£åœ¨æµ‹è¯•è„šæœ¬åŠ è½½...' };

          // æ£€æŸ¥æ˜¯å¦å·²ç»åŠ è½½
          if (typeof uni !== 'undefined') {
            scriptStatus.value = {
              class: 'success',
              icon: 'âœ…',
              text: 'å·²åŠ è½½',
              details: 'Uni-app è„šæœ¬å·²å­˜åœ¨äºå…¨å±€ä½œç”¨åŸŸä¸­'
            };
            console.log('âœ… Uni-app è„šæœ¬å·²å­˜åœ¨');
            return;
          }

          // æµ‹è¯•ä¸åŒåŠ è½½æ–¹å¼
          const testUrls = [
            '/@fs/Users/wangjunbo.kennyw/Desktop/pindou/node_modules/@dcloudio/uni-h5/dist/uni-h5.es.js',
            '/node_modules/@dcloudio/uni-h5/dist/uni-h5.es.js',
            './node_modules/@dcloudio/uni-h5/dist/uni-h5.es.js'
          ];

          for (const url of testUrls) {
            try {
              console.log(`å°è¯•åŠ è½½: ${url}`);
              await import(url);
              scriptStatus.value = {
                class: 'success',
                icon: 'âœ…',
                text: 'åŠ è½½æˆåŠŸ',
                details: `é€šè¿‡è·¯å¾„ "${url}" æˆåŠŸåŠ è½½ Uni-app è„šæœ¬`
              };
              console.log(`âœ… é€šè¿‡ ${url} åŠ è½½æˆåŠŸ`);
              return;
            } catch (e) {
              console.warn(`âŒ ${url} åŠ è½½å¤±è´¥:`, e.message);
            }
          }

          scriptStatus.value = {
            class: 'error',
            icon: 'âŒ',
            text: 'åŠ è½½å¤±è´¥',
            details: 'æ‰€æœ‰åŠ è½½è·¯å¾„éƒ½å¤±è´¥äº†ã€‚å¯èƒ½éœ€è¦æ£€æŸ¥ï¼š\n1. node_modules æ˜¯å¦å®Œæ•´\n2. Vite å¼€å‘æœåŠ¡å™¨é…ç½®\n3. æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®'
          };
          console.error('âŒ æ‰€æœ‰è„šæœ¬åŠ è½½æ–¹å¼éƒ½å¤±è´¥äº†');
        }

        function testUniAPI() {
          console.log('=== Uni-app API æµ‹è¯• ===');
          apiStatus.value = { class: 'warning', icon: 'â³', text: 'æµ‹è¯•ä¸­...', details: 'æ­£åœ¨æµ‹è¯• Uni-app API...' };

          if (typeof uni === 'undefined') {
            apiStatus.value = {
              class: 'error',
              icon: 'âŒ',
              text: 'API ä¸å¯ç”¨',
              details: 'uni å…¨å±€å¯¹è±¡ä¸å­˜åœ¨ï¼Œæ— æ³•ä½¿ç”¨ Uni-app API'
            };
            console.error('âŒ uni å…¨å±€å¯¹è±¡ä¸å­˜åœ¨');
            return;
          }

          let details = 'âœ… uni å…¨å±€å¯¹è±¡å­˜åœ¨\n';
          let hasErrors = false;

          // æµ‹è¯•åŸºç¡€ API
          const apis = [
            { name: 'showToast', api: uni.showToast },
            { name: 'navigateTo', api: uni.navigateTo },
            { name: 'getSystemInfoSync', api: uni.getSystemInfoSync },
            { name: 'createCanvasContext', api: uni.createCanvasContext }
          ];

          apis.forEach(({ name, api }) => {
            if (typeof api === 'function') {
              details += `âœ… ${name} å¯ç”¨\n`;
            } else {
              details += `âŒ ${name} ä¸å¯ç”¨\n`;
              hasErrors = true;
            }
          });

          // æµ‹è¯•ç³»ç»Ÿä¿¡æ¯
          try {
            const systemInfo = uni.getSystemInfoSync();
            details += `\nğŸ“± ç³»ç»Ÿä¿¡æ¯:\n  å¹³å°: ${systemInfo.platform}\n  ç‰ˆæœ¬: ${systemInfo.version || 'æœªçŸ¥'}`;
          } catch (e) {
            details += `\nâŒ ç³»ç»Ÿä¿¡æ¯è·å–å¤±è´¥: ${e.message}`;
            hasErrors = true;
          }

          apiStatus.value = {
            class: hasErrors ? 'warning' : 'success',
            icon: hasErrors ? 'âš ï¸' : 'âœ…',
            text: hasErrors ? 'éƒ¨åˆ†å¯ç”¨' : 'å®Œå…¨å¯ç”¨',
            details: details
          };

          console.log(hasErrors ? 'âš ï¸' : 'âœ…', 'Uni-app API æµ‹è¯•å®Œæˆ');
        }

        async function testNetworkRequests() {
          console.log('=== ç½‘ç»œè¯·æ±‚æµ‹è¯• ===');
          networkResults.value = 'æ­£åœ¨æµ‹è¯•ç½‘ç»œè¯·æ±‚...';

          const tests = [
            { name: 'Uni-app è„šæœ¬æ–‡ä»¶', url: '/node_modules/@dcloudio/uni-h5/dist/uni-h5.es.js' },
            { name: 'Vue è¿è¡Œæ—¶', url: 'https://unpkg.com/vue@3.4.21/dist/vue.global.js' },
            { name: 'æœ¬åœ°å¼€å‘æœåŠ¡å™¨', url: '/' }
          ];

          let results = '';
          for (const test of tests) {
            try {
              const response = await fetch(test.url, { method: 'HEAD' });
              if (response.ok) {
                results += `âœ… ${test.name}: å¯è®¿é—®\n`;
              } else {
                results += `âš ï¸ ${test.name}: HTTP ${response.status}\n`;
              }
            } catch (e) {
              results += `âŒ ${test.name}: ${e.message}\n`;
            }
          }

          networkResults.value = results;
          console.log('ç½‘ç»œè¯·æ±‚æµ‹è¯•å®Œæˆ');
        }

        async function loadUniManually() {
          console.log('=== æ‰‹åŠ¨åŠ è½½ Uni-app ===');

          // ç§»é™¤ç°æœ‰çš„ uni-app è„šæœ¬ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
          const existingScript = document.querySelector('script[src*="uni-h5"]');
          if (existingScript) {
            existingScript.remove();
          }

          // åˆ›å»ºæ–°çš„è„šæœ¬å…ƒç´ 
          const script = document.createElement('script');
          script.type = 'module';

          script.innerHTML = `
            try {
              // å°è¯•å¤šç§åŠ è½½æ–¹å¼
              const loadAttempts = [
                () => import('/@fs/Users/wangjunbo.kennyw/Desktop/pindou/node_modules/@dcloudio/uni-h5/dist/uni-h5.es.js'),
                () => import('/node_modules/@dcloudio/uni-h5/dist/uni-h5.es.js'),
                () => import('./node_modules/@dcloudio/uni-h5/dist/uni-h5.es.js')
              ];

              for (const attempt of loadAttempts) {
                try {
                  await attempt();
                  console.log('âœ… Uni-app æ‰‹åŠ¨åŠ è½½æˆåŠŸ');
                  window.dispatchEvent(new CustomEvent('uni-loaded'));
                  return;
                } catch (e) {
                  console.warn('åŠ è½½å°è¯•å¤±è´¥:', e.message);
                }
              }

              throw new Error('æ‰€æœ‰åŠ è½½æ–¹å¼éƒ½å¤±è´¥äº†');

            } catch (error) {
              console.error('âŒ Uni-app æ‰‹åŠ¨åŠ è½½å¤±è´¥:', error);
              // åˆ›å»ºfallback uniå¯¹è±¡
              window.uni = {
                showToast: (options) => console.log('æ¨¡æ‹Ÿ showToast:', options),
                navigateTo: (options) => console.log('æ¨¡æ‹Ÿ navigateTo:', options),
                getSystemInfoSync: () => ({ platform: 'h5', version: 'fallback', status: 'simulated' })
              };
              console.log('âš ï¸ ä½¿ç”¨æ¨¡æ‹Ÿçš„ uni å¯¹è±¡');
              window.dispatchEvent(new CustomEvent('uni-fallback'));
            }
          `;

          document.head.appendChild(script);

          // ç›‘å¬åŠ è½½ç»“æœ
          window.addEventListener('uni-loaded', () => {
            console.log('æ”¶åˆ° uni-loaded äº‹ä»¶');
            testScriptLoading();
          });

          window.addEventListener('uni-fallback', () => {
            console.log('æ”¶åˆ° uni-fallback äº‹ä»¶');
            scriptStatus.value = {
              class: 'warning',
              icon: 'âš ï¸',
              text: 'ä½¿ç”¨æ¨¡æ‹Ÿå¯¹è±¡',
              details: 'Uni-app è„šæœ¬åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿå¯¹è±¡ä»£æ›¿'
            };
          });
        }

        function applySolution() {
          console.log('=== åº”ç”¨è§£å†³æ–¹æ¡ˆ ===');
          solutions.value = 'æ­£åœ¨åº”ç”¨è§£å†³æ–¹æ¡ˆ...';

          // æ ¹æ®è¯Šæ–­ç»“æœåº”ç”¨ç›¸åº”çš„è§£å†³æ–¹æ¡ˆ
          if (scriptStatus.value.class === 'error') {
            loadUniManually();
            solutions.value = 'å·²å°è¯•æ‰‹åŠ¨åŠ è½½ Uni-app è„šæœ¬';
          } else if (apiStatus.value.class === 'error') {
            solutions.value = 'API é—®é¢˜å¯èƒ½éœ€è¦é‡æ–°é…ç½® Vite æˆ–æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬';
          } else {
            solutions.value = 'æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ï¼';
          }

          hasSolution.value = false; // å·²ç»åº”ç”¨äº†è§£å†³æ–¹æ¡ˆ
        }

        function goToMainApp() {
          window.location.href = '/';
        }

        function updateSolutions() {
          let solutionText = '';

          if (scriptStatus.value.class === 'error') {
            solutionText += 'ğŸ”§ è„šæœ¬åŠ è½½å¤±è´¥è§£å†³æ–¹æ¡ˆ:\n';
            solutionText += '1. æ£€æŸ¥ node_modules æ˜¯å¦å®Œæ•´\n';
            solutionText += '2. å°è¯•æ‰‹åŠ¨åŠ è½½ Uni-app è„šæœ¬\n';
            solutionText += '3. æ£€æŸ¥ Vite å¼€å‘æœåŠ¡å™¨é…ç½®\n\n';
            hasSolution.value = true;
          }

          if (apiStatus.value.class === 'error') {
            solutionText += 'ğŸ”§ API ä¸å¯ç”¨è§£å†³æ–¹æ¡ˆ:\n';
            solutionText += '1. ç¡®è®¤ Uni-app è„šæœ¬å·²æ­£ç¡®åŠ è½½\n';
            solutionText += '2. æ£€æŸ¥å…¨å±€å˜é‡æ±¡æŸ“\n';
            solutionText += '3. å°è¯•é‡æ–°å¯åŠ¨å¼€å‘æœåŠ¡å™¨\n\n';
            hasSolution.value = true;
          }

          if (networkResults.value.includes('âŒ')) {
            solutionText += 'ğŸ”§ ç½‘ç»œé—®é¢˜è§£å†³æ–¹æ¡ˆ:\n';
            solutionText += '1. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®\n';
            solutionText += '2. ç¡®è®¤å¼€å‘æœåŠ¡å™¨æ­£åœ¨è¿è¡Œ\n';
            solutionText += '3. å°è¯•ä¸åŒçš„ç½‘ç»œç¯å¢ƒ\n\n';
          }

          if (solutionText === '') {
            solutionText = 'ğŸ‰ æ²¡æœ‰å‘ç°æ˜æ˜¾é—®é¢˜ï¼æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†ã€‚';
            canProceed.value = true;
          }

          solutions.value = solutionText;
        }

        // ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œæ›´æ–°è§£å†³æ–¹æ¡ˆ
        const watcher = () => {
          setTimeout(updateSolutions, 100);
        };

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        onMounted(() => {
          console.log('ğŸ”¬ Uni-app æ·±åº¦è¯Šæ–­å·¥å…·å·²å¯åŠ¨');

          // å»¶è¿Ÿæ‰§è¡Œæµ‹è¯•ï¼Œç»™é¡µé¢åŠ è½½æ—¶é—´
          setTimeout(() => {
            testVue();
            testScriptLoading();
            testUniAPI();
            testNetworkRequests();
            updateSolutions();
          }, 1000);

          // ç›‘å¬çŠ¶æ€å˜åŒ–
          setInterval(watcher, 2000);
        });

        return {
          vueVersion,
          vueStatus,
          uniStatus,
          scriptStatus,
          apiStatus,
          networkResults,
          solutions,
          hasSolution,
          canProceed,
          progress,
          allTestsPassed,
          testScriptLoading,
          testUniAPI,
          testNetworkRequests,
          loadUniManually,
          applySolution,
          goToMainApp,
          clearConsole,
          exportLogs
        };
      }
    }).mount('#diagnose-app');
  </script>
</body>
</html>
